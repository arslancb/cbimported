{$threads=$cbpm->get_threads(['limit'=>5])}

<div class="notifications">
    <div class="notify_title">{lang code='Messages'}</div>
    <div class="seperator"></div>

    <div class="notifications-container  cbv3-scroller">
        <div id="new_msgs"></div>
        {if $threads}
        {foreach $threads as $_thread}
        {if $_thread}
        
            {if $_thread@last}{$last=true}{else}{$last=false}{/if}
            
        {$block=get_template('msgs_notifications_block','path')}
        {include file=$block thread=$_thread last=$last}
        {/if}
        {/foreach}
        {else}
        <div class="no_notifications">No messages</div>
        {/if}
    </div>

    <div class="seperator"></div>
    <div class="all_notifications"><a href="">Show all Messages</a></div>
</div> 